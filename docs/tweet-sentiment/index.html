<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  <title>Social Communication Temporal Graph - Recent tweet sentiment</title>
  <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css'>

      <link rel="stylesheet" href="css/style.css">

  
</head>

<body>

  <div class="container-fluid">
  <div class="main">
    <div class="row">
      <div class="col-12">
        <h1>Recent tweets for <span id="page-title"></span>'s search query</h1>
        <p>Data taken from the twitter API to get the last 500 tweets for the search query. Hover over a node to see details. <br/>
          Top nodes are users and bottom nodes are tweets.<br/>
          Sentiment prediction is done using the compound score of <a href="https://github.com/cjhutto/vaderSentiment">vaderSentiment</a>.
        </p>
        <p>
          By default the data stored in local storage under key <code>sctg_data</code>, is used for plotting.<br/>
          To plot using new data go to the <a href="#query-data"> Query data section</a>.
        </p>
        <p>This visualization is developed using 
          <a href="https://shubhanshu.com/social-comm-temporal-graph/">Social Communication Temporal Graph</a> library.</p>
        <div id="error-logs"></div>
      </div>
    </div>
    <div class="row">
      <div class="col-10">
        <svg width="960" height="500"></svg>
      </div>
    </div>
    <div class="row">
      <div class="col-7">
        <div class="log-data"></div>
      </div>
    </div>
  </div>
  
  <div class="row">
    <div class="col-6">
        <h1 id="#query-data">Query data</h1>
        <ul>
          <li>Enter your twitter app api keys.</li>
          <li>Click on <code>Save & generate code</code>. This generates the code to query twitter.</li>
          <li>Click <code>Run</code>, to run the code and get the output.</li>
          <li>Click <code>Parse data & Plot</code>, to parse the output JSON, save it in localStorage, and plot it.</li>
        </ul>
        <div id="dataStatus" class="alert alert-warning" role="alert"></div>
        <form onSubmit="return false;">
          <div class="form-group row">
            <label for="search_query" class="sr-only">Search Query</label>
            <div class="input-group col-sm-6">
              <div class="input-group-prepend">
                <div class="input-group-text">Search Query</div>
              </div>
              <input type="text" class="form-control" id="search_query">
            </div>
          </div>
          <div class="form-group row">
            <label for="consumer_key" class="col-sm-3 col-form-label">Consumer Key</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" id="consumer_key" placeholder="Consumer Key">
            </div>
          </div>
          <div class="form-group row">
            <label for="consumer_secret" class="col-sm-3 col-form-label">Consumer Secret</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" id="consumer_secret" placeholder="Consumer Secret">
            </div>
          </div>
        <div class="form-group row">
            <label for="access_token_key" class="col-sm-3 col-form-label">Access Token</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" id="access_token_key" placeholder="Access Token">
            </div>
          </div>
        <div class="form-group row">
            <label for="access_token_secret" class="col-sm-3 col-form-label">Access Token</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" id="access_token_secret" placeholder="Access Token">
            </div>
          </div>

          <button onclick="updateCode()" class="btn btn-primary" id="saveAndGen">Save & generate code</button>
          <button onclick="parseAndPlot()" class="btn btn-primary" id="parsePlot" disabled>Parse data & Plot</button>
        </form>
    </div>
    <div class="col-6">
      <pre data-executable="true" data-language="python">
      import json

      a = {f"{i}": i for i in range(10)}
      print(json.dumps(a))
      </pre>
     </div>
    </div>
  </div>
</div>
</body>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/d3/5.9.2/d3.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/d3-tip/0.9.1/d3-tip.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.25.6/d3-legend.min.js'></script>
<script src='https://cdn.jsdelivr.net/gh/ines/juniper/dist/juniper.min.js'></script>
<script src='https://cdn.jsdelivr.net/gh/napsternxg/social-comm-temporal-graph/docs/sctg.min.js'></script>
<script  src="js/index.js"></script>
<script>
    (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function() {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-44393164-1', 'shubhanshu.com');
    ga('send', 'pageview');
</script>
</html>
